<head>
  <title>lyft</title>
  <link rel="stylesheet" href="pure-min.css">
</head>

<body>
  <div class="main">
    <h1>Welcome to Lyft!</h1>
    <h2>{{currentUser.username}}</h2>
    {{> loginButtons}}
    {{#if currentUser}}
      <div class="request-pickup">
        {{> requestPickup}}
      </div>
      <div class="pure-g">
        <div class="pure-u-1-2">
        {{> pendingPickups}}
        </div>
        <div class="pure-u-1-2">
        {{> selectedPickup}}
        </div>
      </div>
    {{/if}}
  </div>

</body>

  <template name="requestPickup">
    <button class="pure-button button-success">Request Pick Up</button>
    <p>You've requested a pick up at this location {{location}}.</p>
  </template>

  <template name="pendingPickups">
    <h2>Pending Pickups</h2>
    <table class="pure-table pure-table-bordered">
      <thead>
          <tr>
              <th>Date</th>
              <th>Status</th>
          </tr>
      </thead>
      <tbody>
        {{#each pendingPickups}}
          <tr>
              <td>{{createdAt}}</td>
              <td><button class="pure-button" name="{{_id}}">View</button></td>
          </tr>
          {{/each}}
        </tbody>
      </table>
  </template>

  <template name="selectedPickup">
    <h2>Selected Pickups</h2>
    {{#with selectedPickup}}
      <div class="">
        <div class="">
          <h3>{{username}}</h3>
        </div>
        <div class="">
          {{createdAt}}
        </div>
        <div class="">
          {{location}}
        </div>
        <div class="">
          {{status}}
        </div>
      </div>
    {{/with}}
  </template>
